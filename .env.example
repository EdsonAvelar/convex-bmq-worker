# ============================================================================
# REDIS - OBRIGATÓRIO (escolha uma opção)
# ============================================================================

# OPÇÃO 1: Redis TCP direto (RECOMENDADO para produção)
# Use esta URL para Upstash, Railway PostgreSQL, ou qualquer Redis TCP
# UPSTASH_REDIS_URL=rediss://default:your_password@your-redis.upstash.io:6379
# REDIS_URL=redis://localhost:6379  # Para desenvolvimento local

# OPÇÃO 2: Upstash REST (fallback)
# URL da API REST do Upstash Redis
UPSTASH_REDIS_REST_URL=https://your-redis-name.upstash.io
# Token de autenticação do Upstash
UPSTASH_REDIS_REST_TOKEN=your_upstash_token_here

# ============================================================================
# APP CONFIG - OBRIGATÓRIO
# ============================================================================

# Secret compartilhado entre worker e Next.js - OBRIGATÓRIO
# Usado para HMAC de callbacks e autenticação de API interna
# Use um valor aleatório e forte (ex: openssl rand -hex 32)
QUEUE_WORKER_SECRET=your_super_secret_token_here_min_32_chars

# URL base da aplicação Next.js (Vercel) - OPCIONAL
# Usado apenas para chamar API interna de webhook logs (funcionalidade legada)
# Não é necessário para o sistema de callbacks funcionar
# APP_URL=https://your-app.vercel.app

# ============================================================================
# WORKER CONFIG
# ============================================================================
# Ambiente de execução
NODE_ENV=production

# Porta do servidor HTTP (health checks)
PORT=3002

# Concorrência do worker (jobs simultâneos)
WORKER_CONCURRENCY=5

# Tempo de lock dos jobs em ms (deve ser > que o tempo máximo de processamento)
WORKER_LOCK_DURATION=120000

# ============================================================================
# OBSERVABILITY (opcional)
# ============================================================================
# Nível de log (debug, info, warn, error)
LOG_LEVEL=info

# Sentry DSN para error tracking (opcional)
SENTRY_DSN=

# ============================================================================
# TIMEZONE
# ============================================================================
TZ=UTC
